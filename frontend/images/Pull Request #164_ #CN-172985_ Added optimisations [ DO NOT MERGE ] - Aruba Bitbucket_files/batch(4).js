;
/* module-key = 'com.atlassian.bitbucket.server.bitbucket-frontend:split_vendors~extension-git-rebase-pull-request-action-item-extension-action-item-extension-js~extension-j~dbec70aa', location = 'vendors~extension-git-rebase-pull-request-action-item-extension-action-item-extension-js~extension-j~dbec70aa.chunk.js' */
/*! For license information please see vendors~extension-git-rebase-pull-request-action-item-extension-action-item-extension-js~extension-j~dbec70aa.chunk.js.LICENSE */
(window.atlassianWebpackJsonp9bed4266d44bdeae18aa343dea64edaf=window.atlassianWebpackJsonp9bed4266d44bdeae18aa343dea64edaf||[]).push([["vendors~extension-git-rebase-pull-request-action-item-extension-action-item-extension-js~extension-j~dbec70aa"],{"../../node_modules/@atlassian/clientside-extensions/dist/esm/index.js":function(n,t,e){"use strict";e.r(t);var r={};e.r(r),e.d(r,"factory",(function(){return l})),e.d(r,"Api",(function(){return p}));var i={};e.r(i),e.d(i,"factory",(function(){return b}));var o={};e.r(o),e.d(o,"factory",(function(){return _}));var a={};e.r(a),e.d(a,"factory",(function(){return y})),e.d(a,"Api",(function(){return v})),e.d(a,"Width",(function(){return g})),e.d(a,"Appearance",(function(){return j}));var u={};e.r(u),e.d(u,"factory",(function(){return x})),e.d(u,"Api",(function(){return m}));var c={};e.r(c),e.d(c,"factory",(function(){return O}));var s={};e.r(s),e.d(s,"factory",(function(){return h}));var d=e("../../node_modules/tslib/tslib.es6.js"),f=e("../../node_modules/@atlassian/clientside-extensions-components/dist/esm/index.js"),l=function(n){return function(t,e){return Object(d.__assign)(Object(d.__assign)({},n(t,e)),{contextProvider:function(){return e},type:"async-panel"})}},p=function(n){function t(){return null!==n&&n.apply(this,arguments)||this}return Object(d.__extends)(t,n),t}(f.PanelHandler.Api),b=function(n){return function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return Object(d.__assign)(Object(d.__assign)({},n.apply(void 0,t)),{type:"button"})}},_=function(n){return function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return Object(d.__assign)(Object(d.__assign)({},n.apply(void 0,t)),{type:"link"})}},y=function(n){return function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];var r=n.apply(void 0,t);return Object(d.__assign)(Object(d.__assign)({},r),{type:"modal"})}},v=function(n){function t(){return null!==n&&n.apply(this,arguments)||this}return Object(d.__extends)(t,n),t}(f.ModalHandler.Api),g=f.ModalHandler.ModalWidth,j=f.ModalHandler.ModalAppearance,x=function(n){return function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return Object(d.__assign)(Object(d.__assign)({},n.apply(void 0,t)),{type:"panel"})}},m=function(n){function t(){return null!==n&&n.apply(this,arguments)||this}return Object(d.__extends)(t,n),t}(f.PanelHandler.Api),O=function(n){return function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return Object(d.__assign)(Object(d.__assign)({},n.apply(void 0,t)),{type:"section"})}},h=function(n){return function(){return{type:"page",onAction:function(t,e){n(t,e)}}}},A=e("com.atlassian.bitbucket.server.bitbucket-webpack-INTERNAL:react/require('react-dom')"),E=e.n(A),k=e("com.atlassian.bitbucket.server.bitbucket-webpack-INTERNAL:react/require('react')"),M=e.n(k),w=function(n,t,e){n.onMount((function(n){E.a.render(M.a.createElement(t,Object(d.__assign)({},e)),n)})).onUnmount((function(n){E.a.unmountComponentAtNode(n)}))};e.d(t,"AsyncPanelExtension",(function(){return r})),e.d(t,"ButtonExtension",(function(){return i})),e.d(t,"LinkExtension",(function(){return o})),e.d(t,"ModalExtension",(function(){return a})),e.d(t,"PanelExtension",(function(){return u})),e.d(t,"SectionExtension",(function(){return c})),e.d(t,"PageExtension",(function(){return s})),e.d(t,"renderElementAsReact",(function(){return w}))}}]);;
;
/* module-key = 'com.atlassian.bitbucket.server.bitbucket-frontend:split_extension-git-rebase-pull-request-action-item-extension-action-item-extension-js~extension-jira-pull~bfcbe4b9', location = 'extension-git-rebase-pull-request-action-item-extension-action-item-extension-js~extension-jira-pull~bfcbe4b9.chunk.js' */
/*! For license information please see extension-git-rebase-pull-request-action-item-extension-action-item-extension-js~extension-jira-pull~bfcbe4b9.chunk.js.LICENSE */
(window.atlassianWebpackJsonp9bed4266d44bdeae18aa343dea64edaf=window.atlassianWebpackJsonp9bed4266d44bdeae18aa343dea64edaf||[]).push([["extension-git-rebase-pull-request-action-item-extension-action-item-extension-js~extension-jira-pull~bfcbe4b9"],{"com.atlassian.auiplugin:ajs/require('@atlassian/aui')":function(a,e){a.exports=require("@atlassian/aui")}}]);;
;
/* module-key = 'com.atlassian.bitbucket.server.bitbucket-frontend:split_extension-git-rebase-pull-request-action-item-extension-action-item-extension-js', location = 'extension-git-rebase-pull-request-action-item-extension-action-item-extension-js.chunk.js' */
/*! For license information please see extension-git-rebase-pull-request-action-item-extension-action-item-extension-js.chunk.js.LICENSE */
(window.atlassianWebpackJsonp9bed4266d44bdeae18aa343dea64edaf=window.atlassianWebpackJsonp9bed4266d44bdeae18aa343dea64edaf||[]).push([["extension-git-rebase-pull-request-action-item-extension-action-item-extension-js"],{"./generated-clientside-extension/extension-git-rebase-pull-request-action-item-extension-action-item-extension-js.js":function(e,t,n){"use strict";var i=a(n("com.atlassian.plugins.atlassian-clientside-extensions-runtime:runtime/require('@atlassian/clientside-extensions-registry')")),s=a(n("./src/extension/git-rebase/pull-request/action-item-extension/action-item-extension.js"));function a(e){return e&&e.__esModule?e:{default:e}}i.default.registerExtension("com.atlassian.bitbucket.server.bitbucket-frontend:extension/git-rebase/pull-request/action-item-extension/action-item-extension.js",s.default)},"./src/extension/git-rebase/pull-request/action-item-extension/action-item-extension.js":function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i,s=n("../../node_modules/@atlassian/clientside-extensions/dist/esm/index.js"),a=n("com.atlassian.plugins.atlassian-plugins-webresource-plugin:i18n/require('wrm/i18n')"),r=n("com.atlassian.bitbucket.server.bitbucket-webpack-INTERNAL:enums/require('bitbucket/internal/enums')"),o=n("./src/extension/git-rebase/pull-request/rebase-modal/index.js"),u=(i=o)&&i.__esModule?i:{default:i};var l=function(e){var t=e.pullRequest,n=e.conditions;return t.state===r.PullRequestState.OPEN&&t.toRef.repository.scmId===r.ScmType.GIT&&n.canWriteSourceRepo},c=function(e){return e&&e.outcome===r.MergeOutcome.CONFLICTED},b=function(e){var t=e.mergeable;return c(t)?"All conflicts need to be resolved before you can rebase":"Rebase the source branch from the target branch"};t.default=s.ModalExtension.factory((function(e,t){var n,i,r=t.pullRequest;return{hidden:!l(t),disabled:(n=t,i=n.mergeable,c(i)),label:"Rebase",tooltip:b(t),onAction:function(e){e.setTitle("Rebasing cannot be undone"),(0,s.renderElementAsReact)(e,u.default,{sourceBranch:r.fromRef,targetBranch:r.toRef,pullRequest:r,closeModal:e.closeModal,setActions:e.setActions})}}})),e.exports=t.default},"./src/extension/git-rebase/pull-request/rebase-modal/index.js":function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=n("./src/extension/git-rebase/pull-request/rebase-modal/rebase-modal.jsx");Object.defineProperty(t,"default",{enumerable:!0,get:function(){return(e=i,e&&e.__esModule?e:{default:e}).default;var e}}),e.exports=t.default},"./src/extension/git-rebase/pull-request/rebase-modal/rebase-modal.jsx":function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=function(e,t){if(Array.isArray(e))return e;if(Symbol.iterator in Object(e))return function(e,t){var n=[],i=!0,s=!1,a=void 0;try{for(var r,o=e[Symbol.iterator]();!(i=(r=o.next()).done)&&(n.push(r.value),!t||n.length!==t);i=!0);}catch(e){s=!0,a=e}finally{try{!i&&o.return&&o.return()}finally{if(s)throw a}}return n}(e,t);throw new TypeError("Invalid attempt to destructure non-iterable instance")},s=n("../../node_modules/@atlassian/wrm-react-i18n/wrm-react-i18n.js"),a=n("com.atlassian.bitbucket.server.bitbucket-webpack-INTERNAL:react/require('prop-types')"),r=n("com.atlassian.bitbucket.server.bitbucket-webpack-INTERNAL:react/require('react')"),o=d(r),u=d(n("./src/util/prop-types/pull-request.js")),l=d(n("./src/widget/branch-lozenge-with-icon/index.js")),c=n("./src/extension/git-rebase/pull-request/rebase-modal/rebase-notifier.js"),b=n("./src/extension/git-rebase/pull-request/rebase-modal/rebase-provider.js");function d(e){return e&&e.__esModule?e:{default:e}}n("./src/extension/git-rebase/pull-request/rebase-modal/rebase-modal.less");var p=function(e){var t=e.closeModal,n=e.setActions,a=e.pullRequest,u=e.sourceBranch,d=e.targetBranch,p=(0,r.useState)(!1),m=i(p,2),x=m[0],f=m[1];return(0,r.useEffect)((function(){var e=function(e){var n=e.status,i=e.error;f(!1),(0,c.showNotifications)({sourceBranch:u,targetBranch:d,status:n,error:i}),n!==b.REBASED?t():document.location.reload(!0)};n([{text:"Rebase",isLoading:x,onClick:function(){f(!0),(0,b.rebasePullRequest)(a).then(e).catch(e)}},{text:"Cancel",onClick:t}])}),[a,u,d,x]),o.default.createElement("div",{className:"rebase-modal"},o.default.createElement("p",null,s.format("Rebasing will modify {0} and it cannot be undone.",o.default.createElement(l.default,{branch:u}))),o.default.createElement("p",null,s.format("Are you sure you want to rebase {0} from {1}?",o.default.createElement(l.default,{branch:u}),o.default.createElement(l.default,{branch:d}))),o.default.createElement("p",null,o.default.createElement("a",{href:'https:\/\/docs.atlassian.com\/bitbucketserver\/docs-078\/Pull+request+merge+strategies?utm_campaign=in-app-help&utm_medium=in-app-help&utm_source=stash#Pullrequestmergestrategies-usingrebaseinbitbucketserver',target:"_blank"},"Learn more")))};p.displayName="RebaseModal",p.propTypes={closeModal:a.func.isRequired,pullRequest:u.default.isRequired,setActions:a.func.isRequired,sourceBranch:a.object.isRequired,targetBranch:a.object.isRequired},t.default=(0,r.memo)(p),e.exports=t.default},"./src/extension/git-rebase/pull-request/rebase-modal/rebase-modal.less":function(e,t,n){},"./src/extension/git-rebase/pull-request/rebase-modal/rebase-notifier.js":function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.showNotifications=void 0;var i=n("com.atlassian.auiplugin:ajs/require('@atlassian/aui')"),s=n("com.atlassian.bitbucket.server.bitbucket-webpack-INTERNAL:lodash/require('lodash')"),a=n("com.atlassian.plugins.atlassian-plugins-webresource-plugin:i18n/require('wrm/i18n')"),r=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n("com.atlassian.bitbucket.server.bitbucket-webpack-INTERNAL:notifications/require('bitbucket/internal/util/notifications/notifications')")),o=n("./src/extension/git-rebase/pull-request/rebase-modal/rebase-provider.js");var u=function(e){return"<div class='rebase-flag-body'>"+e+"</div>"};t.showNotifications=function(e){var t,n,l,c=e.sourceBranch,b=e.targetBranch,d=e.status,p=e.error,m=(0,s.escape)(c.displayId),x=(0,s.escape)(b.displayId);switch(d){case o.REBASED:r.addFlash("Rebase completed",{body:u(a.format("The \u0027\u0027{0}\u0027\u0027 branch has been rebased to the tip of the \u0027\u0027{1}\u0027\u0027 branch",m,x))});break;case o.NO_NEW_COMMITS:(0,i.flag)({close:"auto",type:"info",title:"Rebasing isn\u0027t necessary",body:u(a.format("The \u0027\u0027{0}\u0027\u0027 branch is up to date with the \u0027\u0027{1}\u0027\u0027 branch",m,x))});break;case o.REBASE_FAILED_VETO:(0,i.flag)({type:"error",title:"Rebasing can\u0027t be done",body:u((t=p,n=t.message,l=t.details,"\n    <p>"+n+"</p>\n    "+(l&&"\n        <ul>\n            "+l.map((function(e){return'<li class="rebase-veto-detail">'+e+"</li>"}))+"\n        </ul>\n    ")))});break;case o.REBASE_FAILED_GIT_EXCEPTION:(0,i.flag)({type:"error",title:"Rebasing can\u0027t be done",body:u(p.message)})}}},"./src/extension/git-rebase/pull-request/rebase-modal/rebase-provider.js":function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.rebasePullRequest=t.REBASE_FAILED_GIT_EXCEPTION=t.REBASE_FAILED_VETO=t.NO_NEW_COMMITS=t.REBASED=void 0;var i,s=n("com.atlassian.bitbucket.server.bitbucket-webpack-INTERNAL:lodash/require('lodash')"),a=n("com.atlassian.bitbucket.server.bitbucket-webpack-INTERNAL:property-util/require('bitbucket/internal/util/property')"),r=(i=a)&&i.__esModule?i:{default:i},o=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n("com.atlassian.bitbucket.server.bitbucket-web-api:navbuilder/require('bitbucket/util/navbuilder')")),u=n("com.atlassian.bitbucket.server.bitbucket-web-api:server/require('bitbucket/util/server')");var l=r.default.getFromProviderSync("git.pull-request.rebase.timeout"),c=t.REBASED=Symbol("REBASED"),b=t.NO_NEW_COMMITS=Symbol("NO_NEW_COMMITS"),d=t.REBASE_FAILED_VETO=Symbol("REBASE_FAILED_VETO"),p=t.REBASE_FAILED_GIT_EXCEPTION=Symbol("REBASE_FAILED_GIT_EXCEPTION");t.rebasePullRequest=function(e){var t=o.rest("git").pullRequest(e).addPathComponents("rebase").build();return new Promise((function(n,i){(0,u.rest)({data:{version:e.version},statusCode:{400:function(e,t,n){var a=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{},r=a.errors,o=(0,s.get)(r,"0");if("com.atlassian.bitbucket.hook.repository.RepositoryHookVetoedException"===o.exceptionName)return i({status:d,error:o}),!1},409:function(e,t,n){var a=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{},r=a.errors,o=(0,s.get)(r,"0");if("com.atlassian.bitbucket.scm.git.command.rebase.GitRebaseException"===o.exceptionName)return i({status:p,error:o}),!1}},timeout:1e3*l,type:u.method.POST,url:t}).then((function(e,t,i){var s=void 0;switch(i.status){case 200:s=c;break;case 204:s=b}n({status:s})})).fail(i)}))}}},[["./generated-clientside-extension/extension-git-rebase-pull-request-action-item-extension-action-item-extension-js.js","runtime","vendors~announcement-banner-settings~auto-decline~create-pull-request~default-branch-admin~extension~b53c067f","vendors~auto-decline~create-pull-request~default-branch-admin~extension-git-rebase-pull-request-acti~1d11af72","vendors~auto-decline~create-pull-request~default-branch-admin~extension-git-rebase-pull-request-acti~2fd8fa4e","vendors~auto-decline~create-pull-request~default-branch-admin~extension-git-rebase-pull-request-acti~1cfb3340","vendors~auto-decline~create-pull-request~default-branch-admin~extension-git-rebase-pull-request-acti~c062ae27","vendors~auto-decline~create-pull-request~default-branch-admin~extension-git-rebase-pull-request-acti~33a7ea31","vendors~auto-decline~create-pull-request~default-branch-admin~extension-git-rebase-pull-request-acti~ab9da1b0","vendors~auto-decline~create-pull-request~default-branch-admin~extension-git-rebase-pull-request-acti~a97cef0a","vendors~auto-decline~create-pull-request~extension-git-rebase-pull-request-action-item-extension-act~f68a7118","vendors~auto-decline~create-pull-request~extension-git-rebase-pull-request-action-item-extension-act~6bd15fca","vendors~auto-decline~create-pull-request~extension-git-rebase-pull-request-action-item-extension-act~72721d40","vendors~create-pull-request~extension-git-rebase-pull-request-action-item-extension-action-item-exte~a276dd3d","vendors~create-pull-request~extension-git-rebase-pull-request-action-item-extension-action-item-exte~6781d47e","vendors~create-pull-request~extension-git-rebase-pull-request-action-item-extension-action-item-exte~80497970","vendors~create-pull-request~extension-git-rebase-pull-request-action-item-extension-action-item-exte~4babc016","vendors~extension-git-rebase-pull-request-action-item-extension-action-item-extension-js~extension-j~dbec70aa","vendors~create-pull-request~extension-git-rebase-pull-request-action-item-extension-action-item-exte~797d5640","announcement-banner-settings~auto-decline~create-pull-request~default-branch-admin~extension-git-reb~ba3b7284","announcement-banner-settings~auto-decline~create-pull-request~default-branch-admin~extension-git-reb~f0f3850d","announcement-banner-settings~auto-decline~create-pull-request~default-branch-admin~extension-git-reb~2ce7521e","announcement-banner-settings~auto-decline~create-pull-request~default-branch-admin~extension-git-reb~5f3ea1fc","announcement-banner-settings~create-pull-request~extension-git-rebase-pull-request-action-item-exten~e73a8e0d","auto-decline~create-pull-request~extension-git-rebase-pull-request-action-item-extension-action-item~2a2246cc","create-pull-request~extension-git-rebase-pull-request-action-item-extension-action-item-extension-js~7e4acfcd","create-pull-request~extension-git-rebase-pull-request-action-item-extension-action-item-extension-js~3711041f","create-pull-request~extension-git-rebase-pull-request-action-item-extension-action-item-extension-js~7cc79d9b","create-pull-request~extension-git-rebase-pull-request-action-item-extension-action-item-extension-js~e2f477ed","create-pull-request~extension-git-rebase-pull-request-action-item-extension-action-item-extension-js~ebfca501","create-pull-request~extension-git-rebase-pull-request-action-item-extension-action-item-extension-js~5c01d7eb","extension-git-rebase-pull-request-action-item-extension-action-item-extension-js~extension-jira-pull~bfcbe4b9","create-pull-request~extension-git-rebase-pull-request-action-item-extension-action-item-extension-js~82f9dae1","create-pull-request~extension-git-rebase-pull-request-action-item-extension-action-item-extension-js~6fbdde12","extension-git-rebase-pull-request-action-item-extension-action-item-extension-js~pull-request-sugges~a37a1228","extension-git-rebase-pull-request-action-item-extension-action-item-extension-js~pull-request-ui"]]]);;
//# sourceMappingURL=/download/contextbatch/js/bitbucket.ui.pullrequest.action,-_super,-bitbucket.page.pullRequest.detail,-bitbucket.layout.base,-atl.general/batch.js.map?_statichash=c3976d74d0e5de1fcbd3ba62dbd1597a-CDN%2F1126798137%2F6433dff%2F382%2F07102ac3bb874763fbe1324749d44cfd&awesome.graphs.adg3=true&awesome.graphs.isLoggedIn=true&hasConnectAddons=true&locale=en-US